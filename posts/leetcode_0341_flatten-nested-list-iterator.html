
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://tofucode.com/theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="https://tofucode.com/theme/pygments/monokai.min.css">

    <script src="https://tofucode.com/theme/tipuesearch/jquery.min.js"></script>
    <script src="https://tofucode.com/theme/tipuesearch/tipuesearch.min.js"></script>
    <script src="https://tofucode.com/theme/tipuesearch/tipuesearch.min.js"></script>
    <script src="https://tofucode.com/theme/tipuesearch/tipuesearch_set.min.js"></script>
    <script src="https://tofucode.com/tipuesearch_content.js"></script>
    <link rel="stylesheet" href="https://tofucode.com/theme/tipuesearch/tipuesearch.min.css" />

  <link rel="stylesheet" type="text/css" href="https://tofucode.com/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://tofucode.com/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://tofucode.com/theme/font-awesome/css/solid.css">


    <link href="https://tofucode.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="TofuCode Atom">



<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'G-DCBDZPQQD1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->  


<meta name="author" content="Zeph" />
<meta name="description" content="Question Link : https://leetcode.com/problems/flatten-nested-list-iterator/ Difficulty: Medium Premium: False Question You are given a nested list of integers nestedList. Each element is either an integer or a list whose elements may also be integers or other lists. Implement an iterator to flatten it. Implement the NestedIterator class: NestedIterator …" />
<meta name="keywords" content="iterator">


<meta property="og:site_name" content="TofuCode"/>
<meta property="og:title" content="Leetcode 0341. Flatten Nested List Iterator"/>
<meta property="og:description" content="Question Link : https://leetcode.com/problems/flatten-nested-list-iterator/ Difficulty: Medium Premium: False Question You are given a nested list of integers nestedList. Each element is either an integer or a list whose elements may also be integers or other lists. Implement an iterator to flatten it. Implement the NestedIterator class: NestedIterator …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://tofucode.com/posts/leetcode_0341_flatten-nested-list-iterator.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2025-02-21 00:00:00-08:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://tofucode.com/author/zeph.html">
<meta property="article:section" content="Leetcode"/>
<meta property="article:tag" content="iterator"/>
<meta property="og:image" content="">

  <title>TofuCode &ndash; Leetcode 0341. Flatten Nested List Iterator</title>

</head>
<body class="light-theme">
  <aside>
    <div>
      <a href="https://tofucode.com">
        <img src="https://tofucode.com/theme/img/profile.png" alt="TofuCode" title="TofuCode">
      </a>

      <h1>
        <a href="https://tofucode.com">TofuCode</a>
      </h1>

      
      <ul class="list social">
      </ul>

        <form class="navbar-search" action="/search.html" role="search">
          <input type="text" name="q" id="tipue_search_input" placeholder="Search...">
        </form>

      <nav>
        <ul class="list">



            <li>
              <a target="_self" href="/pages/interview-questions.html" >Interview Questions</a>
            </li>
            <li>
              <a target="_self" href="/category/leetcode.html" >Recent Questions</a>
            </li>
            <li>
              <a target="_self" href="/tags.html" >Tags</a>
            </li>
        </ul>
      </nav>

    </div>

  </aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="leetcode_0341_flatten-nested-list-iterator">Leetcode 0341. Flatten Nested List Iterator</h1>
    <p>
      Posted on Fri 21 February 2025 in <a href="https://tofucode.com/category/leetcode.html">Leetcode</a>

    </p>
  </header>


  <div>
    <p>Question Link : <a href="https://leetcode.com/problems/flatten-nested-list-iterator/">https://leetcode.com/problems/flatten-nested-list-iterator/</a></p>
<p>Difficulty: Medium</p>
<p>Premium: False</p>
<h3>Question</h3>
<p>You are given a nested list of integers nestedList. Each element is either an integer or a list whose elements may also be integers or other lists. Implement an iterator to flatten it.
Implement the NestedIterator class:</p>
<p>NestedIterator(List<NestedInteger> nestedList) Initializes the iterator with the nested list nestedList.
int next() Returns the next integer in the nested list.
boolean hasNext() Returns true if there are still some integers in the nested list and false otherwise.</p>
<p>Your code will be tested with the following pseudocode:</p>
<p>initialize iterator with nestedList
res = []
while iterator.hasNext()
    append iterator.next() to the end of res
return res</p>
<p>If res matches the expected flattened list, then your code will be judged as correct.
 
Example 1:</p>
<p>Input: nestedList = [[1,1],2,[1,1]]
Output: [1,1,2,1,1]
Explanation: By calling next repeatedly until hasNext returns false, the order of elements returned by next should be: [1,1,2,1,1].</p>
<p>Example 2:</p>
<p>Input: nestedList = [1,[4,[6]]]
Output: [1,4,6]
Explanation: By calling next repeatedly until hasNext returns false, the order of elements returned by next should be: [1,4,6].</p>
<p>Constraints:</p>
<p>1 &lt;= nestedList.length &lt;= 500
The values of the integers in the nested list is in the range [-106, 106].</p>
<h3>Solution</h3>
<p>This is similar to the bst iterator question in that we want to maintain a good top of the stack. Slight care should be taken to note when to reverse the lists so we can pop() from the end in correct order.</p>
<h3>Code</h3>
<div class="highlight"><pre><span></span><code><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Leetcode 0341. Flatten Nested List Iterator</span>
<span class="sd">Question Link : https://leetcode.com/problems/flatten-nested-list-iterator/</span>
<span class="sd">Solution Link : https://tofucode.com/posts/leetcode_0341_flatten-nested-list-iterator.html</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="c1"># &quot;&quot;&quot;</span>
<span class="c1"># This is the interface that allows for creating nested lists.</span>
<span class="c1"># You should not implement it, or speculate about its implementation</span>
<span class="c1"># &quot;&quot;&quot;</span>
<span class="c1">#class NestedInteger:</span>
<span class="c1">#    def isInteger(self) -&gt; bool:</span>
<span class="c1">#        &quot;&quot;&quot;</span>
<span class="c1">#        @return True if this NestedInteger holds a single integer, rather than a nested list.</span>
<span class="c1">#        &quot;&quot;&quot;</span>
<span class="c1">#</span>
<span class="c1">#    def getInteger(self) -&gt; int:</span>
<span class="c1">#        &quot;&quot;&quot;</span>
<span class="c1">#        @return the single integer that this NestedInteger holds, if it holds a single integer</span>
<span class="c1">#        Return None if this NestedInteger holds a nested list</span>
<span class="c1">#        &quot;&quot;&quot;</span>
<span class="c1">#</span>
<span class="c1">#    def getList(self) -&gt; [NestedInteger]:</span>
<span class="c1">#        &quot;&quot;&quot;</span>
<span class="c1">#        @return the nested list that this NestedInteger holds, if it holds a nested list</span>
<span class="c1">#        Return None if this NestedInteger holds a single integer</span>
<span class="c1">#        &quot;&quot;&quot;</span>

<span class="k">class</span> <span class="nc">NestedIterator</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nestedList</span><span class="p">:</span> <span class="p">[</span><span class="n">NestedInteger</span><span class="p">]):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        stack</span>
<span class="sd">        [[1,2],3,[4,5]]</span>

<span class="sd">        flip</span>
<span class="sd">        [4,5], 2, [1,2]</span>

<span class="sd">        iterate from the end with pop()</span>
<span class="sd">        flatten and reverse</span>
<span class="sd">        [4,5], 2, [1,2]</span>
<span class="sd">        [4,5], 2, 2, 1</span>
<span class="sd">        5, 4, 2, 2, 1</span>

<span class="sd">        Time : O(n)</span>
<span class="sd">        Space: O(n) with reverse and store</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span> <span class="o">=</span> <span class="n">nestedList</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="c1"># self.flattenTop() # don&#39;t need if hasNext() is always checked first</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span><span class="o">.</span><span class="n">getInteger</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">hasNext</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flattenTop</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">flattenTop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">isInteger</span><span class="p">():</span>
            <span class="n">first</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">first</span><span class="o">.</span><span class="n">getList</span><span class="p">()[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>


<span class="c1"># Your NestedIterator object will be instantiated and called as such:</span>
<span class="c1"># i, v = NestedIterator(nestedList), []</span>
<span class="c1"># while i.hasNext(): v.append(i.next())</span>
</code></pre></div>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://tofucode.com/tag/iterator.html">iterator</a>
    </p>
  </div>





</article>

    <footer>
<p> Eat Tofu and be true </p>
<p>&copy; 2025 TofuCode.com</p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " TofuCode ",
  "url" : "https://tofucode.com",
  "image": "",
  "description": ""
}
</script>

    <script>
      $(document).ready(function() {
        $('#tipue_search_input').tipuesearch();
      });
    </script>

</body>
</html>