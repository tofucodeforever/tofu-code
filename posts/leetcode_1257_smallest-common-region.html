
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://tofucode.com/theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="https://tofucode.com/theme/pygments/monokai.min.css">

    <script src="https://tofucode.com/theme/tipuesearch/jquery.min.js"></script>
    <script src="https://tofucode.com/theme/tipuesearch/tipuesearch.min.js"></script>
    <script src="https://tofucode.com/theme/tipuesearch/tipuesearch.min.js"></script>
    <script src="https://tofucode.com/theme/tipuesearch/tipuesearch_set.min.js"></script>
    <script src="https://tofucode.com/tipuesearch_content.js"></script>
    <link rel="stylesheet" href="https://tofucode.com/theme/tipuesearch/tipuesearch.min.css" />

  <link rel="stylesheet" type="text/css" href="https://tofucode.com/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://tofucode.com/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://tofucode.com/theme/font-awesome/css/solid.css">


    <link href="https://tofucode.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="TofuCode Atom">



<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'G-DCBDZPQQD1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->  


<meta name="author" content="Zeph" />
<meta name="description" content="Question Link : https://leetcode.com/problems/smallest-common-region/ Difficulty: Medium Premium: True Question You are given some lists of regions where the first region of each list includes all other regions in that list. Naturally, if a region x contains another region y then x is bigger than y. Also, by …" />
<meta name="keywords" content="least-common-ancestor">


<meta property="og:site_name" content="TofuCode"/>
<meta property="og:title" content="Leetcode 1257. Smallest Common Region"/>
<meta property="og:description" content="Question Link : https://leetcode.com/problems/smallest-common-region/ Difficulty: Medium Premium: True Question You are given some lists of regions where the first region of each list includes all other regions in that list. Naturally, if a region x contains another region y then x is bigger than y. Also, by …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://tofucode.com/posts/leetcode_1257_smallest-common-region.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2024-11-22 00:00:00-08:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://tofucode.com/author/zeph.html">
<meta property="article:section" content="Leetcode Premium"/>
<meta property="article:tag" content="least-common-ancestor"/>
<meta property="og:image" content="">

  <title>TofuCode &ndash; Leetcode 1257. Smallest Common Region</title>

</head>
<body class="light-theme">
  <aside>
    <div>
      <a href="https://tofucode.com">
        <img src="https://tofucode.com/theme/img/profile.png" alt="TofuCode" title="TofuCode">
      </a>

      <h1>
        <a href="https://tofucode.com">TofuCode</a>
      </h1>

      
      <ul class="list social">
      </ul>

        <form class="navbar-search" action="/search.html" role="search">
          <input type="text" name="q" id="tipue_search_input" placeholder="Search...">
        </form>

      <nav>
        <ul class="list">



            <li>
              <a target="_self" href="/pages/interview-questions.html" >Interview Questions</a>
            </li>
            <li>
              <a target="_self" href="/category/leetcode.html" >Recent Questions</a>
            </li>
            <li>
              <a target="_self" href="/tags.html" >Tags</a>
            </li>
        </ul>
      </nav>

    </div>

  </aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="leetcode_1257_smallest-common-region">Leetcode 1257. Smallest Common Region</h1>
    <p>
      Posted on Fri 22 November 2024 in <a href="https://tofucode.com/category/leetcode-premium.html">Leetcode Premium</a>

    </p>
  </header>


  <div>
    <p>Question Link : <a href="https://leetcode.com/problems/smallest-common-region/">https://leetcode.com/problems/smallest-common-region/</a></p>
<p>Difficulty: Medium</p>
<p>Premium: True</p>
<h3>Question</h3>
<p>You are given some lists of regions where the first region of each list includes all other regions in that list.
Naturally, if a region x contains another region y then x is bigger than y. Also, by definition, a region x contains itself.
Given two regions: region1 and region2, return the smallest region that contains both of them.
If you are given regions r1, r2, and r3 such that r1 includes r3, it is guaranteed there is no r2 such that r2 includes r3.
It is guaranteed the smallest region exists.
 
Example 1:</p>
<p>Input:
regions = [["Earth","North America","South America"],
["North America","United States","Canada"],
["United States","New York","Boston"],
["Canada","Ontario","Quebec"],
["South America","Brazil"]],
region1 = "Quebec",
region2 = "New York"
Output: "North America"</p>
<p>Example 2:</p>
<p>Input: regions = [["Earth", "North America", "South America"],["North America", "United States", "Canada"],["United States", "New York", "Boston"],["Canada", "Ontario", "Quebec"],["South America", "Brazil"]], region1 = "Canada", region2 = "South America"
Output: "Earth"</p>
<p>Constraints:</p>
<p>2 &lt;= regions.length &lt;= 104
2 &lt;= regions[i].length &lt;= 20
1 &lt;= regions[i][j].length, region1.length, region2.length &lt;= 20
region1 != region2
regions[i][j], region1, and region2 consist of English letters.
The input is generated such that there exists a region which contains all the other regions, either directly or indirectly.</p>
<h3>Solution</h3>
<p>LCA problem, since the only info we care about here are the names, we can just use a dict instead of building out a Node class</p>
<h3>Code</h3>
<div class="highlight"><pre><span></span><code><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Leetcode 1257. Smallest Common Region</span>
<span class="sd">Question Link : https://leetcode.com/problems/smallest-common-region/</span>
<span class="sd">Solution Link : https://tofucode.com/posts/leetcode_1257_smallest-common-region.html</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">findSmallestRegion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">regions</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="n">region1</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">region2</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        regions = [</span>
<span class="sd">            [&quot;Earth&quot;,&quot;North America&quot;,&quot;South America&quot;],</span>
<span class="sd">            [&quot;North America&quot;,&quot;United States&quot;,&quot;Canada&quot;],</span>
<span class="sd">            [&quot;United States&quot;,&quot;New York&quot;,&quot;Boston&quot;],</span>
<span class="sd">            [&quot;Canada&quot;,&quot;Ontario&quot;,&quot;Quebec&quot;],</span>
<span class="sd">            [&quot;South America&quot;,&quot;Brazil&quot;]</span>
<span class="sd">        ],</span>
<span class="sd">        for a sublist: first is the parent</span>
<span class="sd">        eg:</span>
<span class="sd">            Quebec (Quebec - Canada - North America)</span>
<span class="sd">            New York (New York - United States - North America)</span>

<span class="sd">        ask:</span>
<span class="sd">        region1, region2 find the first common ancester</span>

<span class="sd">        Tree: and find first common ancester</span>
<span class="sd">        1. set up Tree:</span>
<span class="sd">            do we need Node class:</span>
<span class="sd">                no: all we care about is the child -&gt; parent, use a dict</span>
<span class="sd">            Go through regions list and build a tree</span>
<span class="sd">        3. find first common ancester</span>
<span class="sd">            traverse one region up to root and store in set()</span>
<span class="sd">            traverse second region up and return first common</span>

<span class="sd">        Time : O(n)</span>
<span class="sd">        Space: O(n)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="p">{}</span> <span class="c1"># child -&gt; parent</span>

        <span class="c1"># set up tree</span>
        <span class="k">for</span> <span class="n">region_info</span> <span class="ow">in</span> <span class="n">regions</span><span class="p">:</span>
            <span class="n">parent_name</span> <span class="o">=</span> <span class="n">region_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">children_names</span> <span class="o">=</span> <span class="n">region_info</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
            <span class="k">for</span> <span class="n">child_name</span> <span class="ow">in</span> <span class="n">children_names</span><span class="p">:</span>
                <span class="n">nodes</span><span class="p">[</span><span class="n">child_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">parent_name</span>

        <span class="c1"># find common ancestor</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">region1</span>
        <span class="n">seen</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">while</span> <span class="n">p</span><span class="p">:</span>
            <span class="n">seen</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">region2</span>
        <span class="k">while</span> <span class="n">p</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">seen</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">p</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://tofucode.com/tag/least-common-ancestor.html">least-common-ancestor</a>
    </p>
  </div>





</article>

    <footer>
<p> Eat Tofu and be true </p>
<p>&copy; 2024 TofuCode.com</p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " TofuCode ",
  "url" : "https://tofucode.com",
  "image": "",
  "description": ""
}
</script>

    <script>
      $(document).ready(function() {
        $('#tipue_search_input').tipuesearch();
      });
    </script>

</body>
</html>