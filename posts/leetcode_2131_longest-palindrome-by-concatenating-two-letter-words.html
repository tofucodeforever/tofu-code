
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://tofucode.com/theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="https://tofucode.com/theme/pygments/monokai.min.css">

    <script src="https://tofucode.com/theme/tipuesearch/jquery.min.js"></script>
    <script src="https://tofucode.com/theme/tipuesearch/tipuesearch.min.js"></script>
    <script src="https://tofucode.com/theme/tipuesearch/tipuesearch.min.js"></script>
    <script src="https://tofucode.com/theme/tipuesearch/tipuesearch_set.min.js"></script>
    <script src="https://tofucode.com/tipuesearch_content.js"></script>
    <link rel="stylesheet" href="https://tofucode.com/theme/tipuesearch/tipuesearch.min.css" />

  <link rel="stylesheet" type="text/css" href="https://tofucode.com/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://tofucode.com/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://tofucode.com/theme/font-awesome/css/solid.css">


    <link href="https://tofucode.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="TofuCode Atom">



<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'G-DCBDZPQQD1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->  


<meta name="author" content="Zeph" />
<meta name="description" content="Question Link : https://leetcode.com/problems/longest-palindrome-by-concatenating-two-letter-words/ Difficulty: Medium Question You are given an array of strings words. Each element of words consists of two lowercase English letters. Create the longest possible palindrome by selecting some elements from words and concatenating them in any order. Each element can be selected …" />
<meta name="keywords" content="palindrome, string">


<meta property="og:site_name" content="TofuCode"/>
<meta property="og:title" content="Leetcode 2131. Longest Palindrome by Concatenating Two Letter Words"/>
<meta property="og:description" content="Question Link : https://leetcode.com/problems/longest-palindrome-by-concatenating-two-letter-words/ Difficulty: Medium Question You are given an array of strings words. Each element of words consists of two lowercase English letters. Create the longest possible palindrome by selecting some elements from words and concatenating them in any order. Each element can be selected …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://tofucode.com/posts/leetcode_2131_longest-palindrome-by-concatenating-two-letter-words.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2022-11-02 00:00:00-07:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://tofucode.com/author/zeph.html">
<meta property="article:section" content="Leetcode"/>
<meta property="article:tag" content="palindrome"/>
<meta property="article:tag" content="string"/>
<meta property="og:image" content="">

  <title>TofuCode &ndash; Leetcode 2131. Longest Palindrome by Concatenating Two Letter Words</title>

</head>
<body class="light-theme">
  <aside>
    <div>
      <a href="https://tofucode.com">
        <img src="https://tofucode.com/theme/img/profile.png" alt="TofuCode" title="TofuCode">
      </a>

      <h1>
        <a href="https://tofucode.com">TofuCode</a>
      </h1>

      
      <ul class="list social">
      </ul>

        <form class="navbar-search" action="/search.html" role="search">
          <input type="text" name="q" id="tipue_search_input" placeholder="Search...">
        </form>

      <nav>
        <ul class="list">



            <li>
              <a target="_self" href="/pages/interview-questions.html" >Interview Questions</a>
            </li>
            <li>
              <a target="_self" href="/category/leetcode.html" >Recent Questions</a>
            </li>
            <li>
              <a target="_self" href="/tags.html" >Tags</a>
            </li>
        </ul>
      </nav>

    </div>

  </aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="leetcode_2131_longest-palindrome-by-concatenating-two-letter-words">Leetcode 2131. Longest Palindrome by Concatenating Two Letter Words</h1>
    <p>
      Posted on Wed 02 November 2022 in <a href="https://tofucode.com/category/leetcode.html">Leetcode</a>

    </p>
  </header>


  <div>
    <p>Question Link : <a href="https://leetcode.com/problems/longest-palindrome-by-concatenating-two-letter-words/">https://leetcode.com/problems/longest-palindrome-by-concatenating-two-letter-words/</a></p>
<p>Difficulty: Medium</p>
<h3>Question</h3>
<p>You are given an array of strings words. Each element of words consists of two lowercase English letters.
Create the longest possible palindrome by selecting some elements from words and concatenating them in any order. Each element can be selected at most once.
Return the length of the longest palindrome that you can create. If it is impossible to create any palindrome, return 0.
A palindrome is a string that reads the same forward and backward.
 
Example 1:</p>
<p>Input: words = ["lc","cl","gg"]
Output: 6
Explanation: One longest palindrome is "lc" + "gg" + "cl" = "lcggcl", of length 6.
Note that "clgglc" is another longest palindrome that can be created.</p>
<p>Example 2:</p>
<p>Input: words = ["ab","ty","yt","lc","cl","ab"]
Output: 8
Explanation: One longest palindrome is "ty" + "lc" + "cl" + "yt" = "tylcclyt", of length 8.
Note that "lcyttycl" is another longest palindrome that can be created.</p>
<p>Example 3:</p>
<p>Input: words = ["cc","ll","xx"]
Output: 2
Explanation: One longest palindrome is "cc", of length 2.
Note that "ll" is another longest palindrome that can be created, and so is "xx".</p>
<p>Constraints:</p>
<p>1 &lt;= words.length &lt;= 105
words[i].length == 2
words[i] consists of lowercase English letters.</p>
<h3>Solution</h3>
<p>Identify the ways that the 2 letter words can be used to form a palindrome, keep a word to count map. go through the words list and match the pairs. This can be done in either one iteration or two iterations.</p>
<h3>Code</h3>
<div class="highlight"><pre><span></span><code><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Leetcode 2131. Longest Palindrome by Concatenating Two Letter Words</span>
<span class="sd">Question Link : https://leetcode.com/problems/longest-palindrome-by-concatenating-two-letter-words/</span>
<span class="sd">Solution Link : https://tofucode.com/posts/leetcode_2131_longest-palindrome-by-concatenating-two-letter-words.html</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">longestPalindrome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">words</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        [&quot;lc&quot;,&quot;cl&quot;,&quot;gg&quot;]</span>
<span class="sd">        &quot;lc&quot; + &quot;gg&quot; + &quot;cl&quot;</span>
<span class="sd">        Each word is 2 chars either : aa OR ab</span>

<span class="sd">        build word counts</span>
<span class="sd">        word -&gt; count</span>
<span class="sd">        lc: 1</span>
<span class="sd">        cl: 1</span>
<span class="sd">        gg: 1</span>

<span class="sd">        go through words count again:</span>
<span class="sd">            diff char words: check if mirror exits, for every pair +4 char</span>
<span class="sd">            same char words:</span>
<span class="sd">                even number: can be added to both end, every pair +4 char</span>
<span class="sd">                odd number: can be added to the center  - only 1, check at very end</span>

<span class="sd">        Time : O(n)</span>
<span class="sd">        Space: O(n)</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">counts</span> <span class="o">=</span> <span class="p">{}</span> <span class="c1"># word -&gt; count</span>

        <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
            <span class="n">counts</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">=</span> <span class="n">counts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">counts</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">remains_same_char_word</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">for</span> <span class="n">word</span><span class="p">,</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">counts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">reverse</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">reverse</span> <span class="ow">in</span> <span class="n">counts</span><span class="p">:</span>
                    <span class="n">matches</span> <span class="o">=</span>  <span class="nb">min</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">counts</span><span class="p">[</span><span class="n">reverse</span><span class="p">])</span>
                    <span class="n">counts</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">=</span> <span class="n">counts</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">-</span> <span class="n">matches</span>
                    <span class="n">counts</span><span class="p">[</span><span class="n">reverse</span><span class="p">]</span> <span class="o">=</span> <span class="n">counts</span><span class="p">[</span><span class="n">reverse</span><span class="p">]</span> <span class="o">-</span> <span class="n">matches</span>
                    <span class="n">result</span> <span class="o">+=</span> <span class="n">matches</span> <span class="o">*</span> <span class="mi">4</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># every pair * 4</span>
                <span class="n">result</span> <span class="o">+=</span> <span class="p">(</span><span class="n">num</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="mi">4</span>
                <span class="k">if</span> <span class="n">num</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">remains_same_char_word</span> <span class="o">=</span> <span class="kc">True</span>


        <span class="k">if</span> <span class="n">remains_same_char_word</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">+=</span> <span class="mi">2</span>

        <span class="k">return</span> <span class="n">result</span>

<span class="k">class</span> <span class="nc">SolutionImproved1</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">longestPalindrome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">words</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Do this in one loop: check as we go</span>
<span class="sd">        When there is a reverse, just need to -1 for the reverse</span>
<span class="sd">        remaining_same_char_word needs to be changed to a count</span>

<span class="sd">        Time : O(n)</span>
<span class="sd">        Space: O(n)</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">counts</span> <span class="o">=</span> <span class="p">{}</span> <span class="c1"># word -&gt; count</span>

        <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">remaining_same_char_word</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">reverse</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">counts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">reverse</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">counts</span><span class="p">[</span><span class="n">reverse</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span>
                    <span class="n">result</span> <span class="o">+=</span> <span class="mi">4</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">counts</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">=</span> <span class="n">counts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">counts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">counts</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span>
                    <span class="n">result</span> <span class="o">+=</span> <span class="mi">4</span>
                    <span class="n">remaining_same_char_word</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">counts</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">=</span> <span class="n">counts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
                    <span class="n">remaining_same_char_word</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">remaining_same_char_word</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">+=</span> <span class="mi">2</span>

        <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://tofucode.com/tag/palindrome.html">palindrome</a>
      <a href="https://tofucode.com/tag/string.html">string</a>
    </p>
  </div>





</article>

    <footer>
<p> Eat Tofu and be true </p>
<p>&copy; 2024 TofuCode.com</p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " TofuCode ",
  "url" : "https://tofucode.com",
  "image": "",
  "description": ""
}
</script>

    <script>
      $(document).ready(function() {
        $('#tipue_search_input').tipuesearch();
      });
    </script>

</body>
</html>